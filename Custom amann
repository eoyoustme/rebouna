local modelName = "Sussyroom"
local assetID = "rbxassetid://11626479968"

local currentRoom = workspace.CurrentRooms[game.ReplicatedStorage.GameData.LatestRoom.Value]

-- Tạo model mới
local newModel = Instance.new("Model")
newModel.Name = modelName
newModel.Parent = currentRoom

-- Lấy object từ assetID
local obj = game:GetObjects(assetID)[1]

-- Tính vị trí đặt object
local num = 0
if currentRoom:FindFirstChild("PathfindNodes") then
    num = math.floor(#currentRoom.PathfindNodes:GetChildren() / 2)
end

-- Đặt object tại vị trí giữa pathfindnodes hoặc vị trí phòng + 5 lên trục Y
local targetCFrame = (num == 0 and currentRoom[currentRoom.Name] or currentRoom.PathfindNodes[num]).CFrame * CFrame.new(0, 5, 0)
obj:PivotTo(targetCFrame)

-- Đặt parent và khóa vị trí
obj.Parent = newModel
if obj.PrimaryPart then
    obj.PrimaryPart.Anchored = true
else
    -- Nếu không có PrimaryPart, cố gắng khóa tất cả các part con
    for _, part in pairs(obj:GetDescendants()) do
        if part:IsA("BasePart") then
            part.Anchored = true
        end
    end
end
