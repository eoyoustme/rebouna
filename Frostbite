function GetRoom()
    local gruh = workspace.CurrentRooms
    return gruh:FindFirstChild(game.ReplicatedStorage.GameData.LatestRoom.Value)
end

local plr = game.Players.LocalPlayer
local chr = plr.Character
local tweenservice = game:GetService("TweenService")

function LoadCustomInstance(source, parent)
	local model

	local function NormalizeGitHubURL(url)
		if url:match("^https://github.com/.+%.rbxm$") and not url:find("?raw=true") then
			return url .. "?raw=true"
		end
		return url
	end

	while task.wait() and not model do
		if type(source) == "number" or tostring(source):match("^%d+$") then
			local success, result = pcall(function()
				return game:GetObjects("rbxassetid://" .. tostring(source))[1]
			end)
			if success and result then
				model = result
			end
		elseif type(source) == "string" and source:match("^https?://") and source:match("%.rbxm") then
			local url = NormalizeGitHubURL(source)
			local success, result = pcall(function()
				local fileName = "temp_" .. tostring(math.random(100000, 999999)) .. ".rbxm"
				writefile(fileName, game:HttpGet(url))
				local obj = game:GetObjects((getcustomasset or getsynasset)(fileName))[1]
				delfile(fileName)
				return obj
			end)
			if success and result then
				model = result
			end
		else
			break
		end

		if model then
			model.Parent = parent or workspace
			for _, obj in ipairs(model:GetDescendants()) do
				if obj:IsA("Script") or obj:IsA("LocalScript") then
					obj:Destroy()
				end
			end
			pcall(function()
				model:SetAttribute("LoadedByExecutor", true)
			end)
		end
	end

	return model
end

-- T·∫£i Frost Entity t·ª´ GitHub
local s = LoadCustomInstance("https://github.com/eoyoustme/rebouna/raw/refs/heads/main/Frostguy.rbxm", workspace)
local entity = s:FindFirstChildWhichIsA("BasePart")
entity.CFrame = GetRoom():WaitForChild("RoomEntrance").CFrame * CFrame.new(0, 5, -15)
entity.Part.CFrame = entity.CFrame

-- üåü T·∫°o PointLight hi·ªáu ·ª©ng s√°ng d·∫ßn r·ªìi t·∫Øt
local pointLight = Instance.new("PointLight")
pointLight.Range = 60
pointLight.Brightness = 9999
pointLight.Color = Color3.fromRGB(150, 200, 255)
pointLight.Parent = entity

-- Tween gi·∫£m s√°ng t·ª´ t·ª´
local lightTween = tweenservice:Create(pointLight, TweenInfo.new(10, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
    Range = 0,
    Brightness = 0
})
lightTween:Play()

-- üéµ Ph√°t √¢m thanh xu·∫•t hi·ªán
local sound = Instance.new("Sound")
sound.SoundId = "rbxassetid://137044859218769"
sound.Looped = false
sound.Parent = s
sound.Volume = 5
sound:Play()

-- ‚ùÑÔ∏è Hi·ªáu ·ª©ng l·∫°nh
local frost = Instance.new("ColorCorrectionEffect", game.Lighting)
task.spawn(function()
	tweenservice:Create(frost, TweenInfo.new(10), {
		TintColor = Color3.fromRGB(0, 0, 255),
		Saturation = -0.7,
		Contrast = 0.2
	}):Play()
end)

-- T·∫Øt hi·ªáu ·ª©ng t·∫°m th·ªùi
entity.Attachment.face.Enabled = false
entity.Attachment.Heylois.Enabled = false
entity.Attachment.BlackTrai2l.Enabled = false
entity.Attachment.BlackTrai3l.Enabled = false

wait(7)

-- B·∫≠t hi·ªáu ·ª©ng l·∫°i
entity.Attachment.face.Enabled = true
entity.Attachment.Heylois.Enabled = true
entity.Attachment.BlackTrai2l.Enabled = true
entity.Attachment.BlackTrai3l.Enabled = true

entity.Ambience:Play()
entity.AmbienceFar:Play()

-- üî• G√¢y s√°t th∆∞∆°ng n·∫øu kh√¥ng c√≥ b·∫≠t l·ª≠a
local dmg = true
task.spawn(function()
	while true do
		wait(1)
		if dmg then
			local lighter = chr:FindFirstChild("Lighter")
			if not lighter then
				chr.Humanoid.Health -= 3
				game.ReplicatedStorage.GameStats["Player_" .. plr.Name].Total.DeathCause.Value = "Frostbite"
			end
		end
	end
end)

-- üõë Khi chuy·ªÉn sang ph√≤ng m·ªõi, d·ª´ng m·ªçi th·ª©
game.ReplicatedStorage.GameData.LatestRoom.Changed:Wait()
dmg = false

entity.Attachment.face.Enabled = false
entity.Attachment.Heylois.Enabled = false
entity.Attachment.BlackTrai2l.Enabled = false
entity.Attachment.BlackTrai3l.Enabled = false

entity.Ambience:Stop()
entity.AmbienceFar:Stop()

-- √Çm thanh bi·∫øn m·∫•t
local des = Instance.new("Sound")
des.SoundId = "rbxassetid://111715441853991"
des.Looped = false
des.Parent = s
des.Volume = 2.5
des:Play()

wait(5)
s:Destroy()

-- üßä Ho√†n t√°c hi·ªáu ·ª©ng m√†u
task.spawn(function()
	tweenservice:Create(frost, TweenInfo.new(5), {
		TintColor = Color3.fromRGB(255, 255, 255),
		Saturation = 0,
		Contrast = 0
	}):Play()
end)

wait(5)
frost:Destroy()
