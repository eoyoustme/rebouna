-- Thông tin object
local modelName = "Kardin"
local assetID = "rbxassetid://11887366327"

-- Lấy phòng hiện tại từ hệ thống Doors
local roomIndex = game.ReplicatedStorage.GameData.LatestRoom.Value
local currentRoom = workspace.CurrentRooms[roomIndex]

-- Tạo model mới trong phòng
local kardModel = Instance.new("Model")
kardModel.Name = modelName
kardModel.Parent = currentRoom

-- Lấy object từ asset ID
local kardObject = game:GetObjects(assetID)[1]

-- Tìm Part gốc (center part) của căn phòng
local roomOriginPart = currentRoom:FindFirstChild(currentRoom.Name)
if not roomOriginPart then
    warn("Không tìm thấy part gốc của phòng!")
    return
end

-- Dịch object lên cao một chút từ tâm phòng
local offset = Vector3.new(10, 5, 0) -- 5 stud phía trên sàn
local finalCFrame = roomOriginPart.CFrame * CFrame.new(offset)

-- Đặt object vào đúng vị trí tính theo hướng phòng
kardObject:PivotTo(finalCFrame)

-- Đặt object làm con của model
kardObject.Parent = kardModel

-- Anchor tất cả các part bên trong object
if kardObject.PrimaryPart then
    kardObject.PrimaryPart.Anchored = true
else
    for _, part in ipairs(kardObject:GetDescendants()) do
        if part:IsA("BasePart") then
            part.Anchored = true
        end
    end
end
